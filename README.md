# EGUM
EGUM is a simple, powerful `python` tools help you accelerate graph neural network inference, it's totally open source so you can customize it for your convinience. To use it, you need to have these dependencies:

* linux
* Python 3.0 +
* torch: now `EGUM` only support `pytorch` as computation backend
* dgl
* numpy
* ogb if you want to use example

If you want to build from source code, you will additionally need:
* gcc: to build on linux
* nvcc: to build CUDA code
* pybind11: to bind C++ code with Python

However, if you don't want to use the accelerated mode, you can simply download and put the EGUM.py in your working directory and import it just-in-time.

## Project Structure
EGUM provides two class `EGUM` and `initializer` to accelerate your GNN inference. Class `EGUM` is the core of EGUM and it provides all functions for acceleration. Another class, `initializer`, is the class initialize the input for EGUM.

### EGUM
* __init__(self, model)
* load_graph(self, graph, node_feat, edge_feat=None)
* initialize(self, subgraph, node_feat, edge_feat=None)
* extend(self, subgraph, node_feat, edge_feat=None)
* back(self, subgraph, node_feat, edge_feat=None)
* forward(self, subgraph, node_feat, edge_feat=None)
#### __init__(self, model)
Parameters: **model**: Please pass in the trained GNN model **with parameter**, then EGUM will dynamically load your model with parameter

Return: an instance of EGUM
#### load_graph(self, graph, node_feat, edge_feat=None)
Parameters: 
* graph: the raw **input** graph after modification, shall be the subgraph generated by initializer
* node_feat: feature maps before modification, it shall be the startup result
* edge_feat: feature maps of edge before modification

Note that you need to provide feature maps after all layers, for instance, a 3 layer GNN shall have 3 feature map, capsulted in one tensor.
Return: No return
#### initialize(self, subgraph, node_feat, edge_feat=None)
Parameters:
* subgraph: this shall be the subgraph generated by initializer
* node_feat: this is the node_feat of subgraph but not the big graph, also result of initializer
* edge_feat: this is the edge_feat of subgraph but not the big graph, also result of initializer

Return: No return
#### extend(self, subgraph, node_feat, edge_feat=None)
Parameters:
* subgraph: this shall be the subgraph generated by initializer
